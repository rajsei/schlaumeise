---
import { marked } from 'marked'
import arrow1 from '../assets/arrows/1.svg';

/**
 * Props:
 * - title: string (section heading)
 * - text: string (Markdown-compatible text)
 * - color?: 'yellow' | 'blue' | 'green'
 */

interface Props {
  title: string
  text: string
  color?: 'yellow' | 'blue' | 'green'
}

const { title, text, color = 'yellow' } = Astro.props as Props;

// Convert inline Markdown to HTML safely for display
const html = marked.parseInline(text)

const bgColor =
  color === 'blue'
    ? 'bg-blue-100'
    : color === 'green'
    ? 'bg-green-100'
    : 'bg-yellow-100'
---

<div class={`pastel-box ${bgColor}`}>
  <img src={arrow1.src} class="arrow" alt="" />
  <h3 class="title">{title}</h3>
  <p class="content" set:html={html} />
</div>

<style>
  .pastel-box {
    padding: 1rem 1.25rem;
    border-radius: 0.1rem;
    /* subtle elevation */
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
    transition: background 0.3s ease;
    position: relative;
    justify-content: space-between; /* text left, icon to the right */
    padding-right: 3rem;
    margin-right: 3rem;
  }

  .title {
    margin-top: 0;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #2d2d2d;
    font-size: 1.1rem;
  }

  .arrow{
    position: absolute;
    right: -3.5rem;
    top: -0.5em;
    width: auto;
    height: 3.5rem;
    pointer-events: none;
  }

  .content {
    margin: 0;
    color: #333;
    line-height: 1.5;
    font-size: 0.95rem;
  }

  /* Hover effects */
  .bg-yellow-100:hover { background-color: #fff4b5; }
  .bg-blue-100:hover   { background-color: #d9ecff; }
  .bg-green-100:hover  { background-color: #e0f8d8; }

  /* Pastel background variants */
  .bg-yellow-100 { background-color: #fff9c4; }
  .bg-blue-100   { background-color: #dbeafe; }
  .bg-green-100  { background-color: #dcfce7; }
</style>

